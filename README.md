# MusciExercise
       
一、实验项目名称
服务及存储综合应用
二、实验目的
1.继续熟悉ListView及Adapter的使用，掌握如何根据实际需求设计个性化的ListView列表视图；继续熟悉Android系统中ContextMenu（上下文菜单）及OptionMenu（选项菜单）的使用；
2.在实际应用场景中使用Service执行实际任务（要求在扩展任务中应用）；
3.应用SharedPreferences或SQLite保存App的必要数据（要求在扩展任务中应用）；
4.掌握如何应用ContentResolver解析符合ContentProvider标准的开放数据；
5.初步掌握线程基本应用。
三、实验任务
结合前面所学界面设计、菜单等知识，并应用目前所学Service、SharedPreferences、SQLite、ContentProvider / ContentResolver等知识，并以Android MediaPlayer类为基础，设计一个采用自定义UI的音乐播放器，界面如下：
 
具体要求如下：
1.要求采用ListView显示sdcard中MUSIC目录中的音乐文件，要求文件的获取采用ContentResolver方式获取。每个音乐文件要在ListView中显示缩略图标、文件显示名、演唱者信息；
2.为整个App设计一个全局选项菜单，其中包括 “退出”、“关于”菜单项，每个菜单项需设计对应的功能；
3.当按返回键或选择选项菜单中的退出时要显示退出警告对话框，当用户选择确定按钮时才退出程序，选择取消按钮则放弃操作；
4.以上任务按照《实验指导四》的操作步骤就可以完成，在完成上述任务的基础上，要求继续完成2个任务：其中任务1必选，任务1外的任务可以任选。
1)使用Service实现同样的音乐播放功能；
2)实现音乐的随机播放、单曲循环播放，提供设置操作，并在SharedPreferences或SQLite保存用户设置，同时程序退出自动保存用户的播放状态；
3)在列表界面中在某一个音乐文件上长按屏幕，显示上下文菜单，菜单中包括“文件详情”、“开始播放”两个基本菜单项，其他菜单功能可以根据需要设计；
4)采用一定的动态效果显示列表界面中以及底部播放控制界面中当前正在播放的音乐文件。
四、主要仪器设备及耗材
	PC，Windows 7，Android Studio，Android SDK
五、实验步骤
1.新建工程框架
2.全局资源的添加及修改
3.添加，编辑布局代码
4.添加音乐文件信息类，MediaPlayer管理类，列表适配器类
5.编写Activity功能实现代码


六、实验数据及处理结果



	
七、思考讨论题或体会或对改进实验的建议
	除开基本的实验外，完成了第二个和第三个选做项目，第一个尝试了，但是案例中音乐好像都是放在文件中，不是读取的。最开始读取音乐文件的时候总是不能，我debug模式下放回的totalmusic始终为0，后来再cold boot now,重新启动下就能读取了。
八、参考资料：
[1]胡敏等. Android移动应用设计与开发[M]. 北京：人民邮电出版社，2017.4
[2]陈佳等. Android移动开发[M]. 北京：人民邮电出版社，2016.3
[3]李刚. 疯狂Android讲义[M]. 北京：电子工业出版社，2012.3
[4]本课程讲义及举例代码
